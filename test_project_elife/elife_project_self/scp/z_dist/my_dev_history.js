import{jfetch as a}from"/share.js";class s extends React.Component{constructor(e){super(e);let i=location.hash.split("/");this.deviceSn=i[2],this.portNum=i[3],this.state={myUsedDevs:[]}}async componentDidMount(){let e=await a(`/api/customer/get-my-used-devs?typeid=${this.typeid}`);this.setState({myUsedDevs:e.devices})}render(){return React.createElement("div",{className:"home"},React.createElement("div",{className:"topbar",style:{color:"#03a9f4",margin:".2rem"}},React.createElement("div",{style:{float:"right",cursor:"pointer"},onClick:()=>{location.hash="#/home"}},"返回主页")),React.createElement("div",{className:"result-list"},this.state.myUsedDevs.length===0?React.createElement("p",null,"没有记录"):React.createElement(React.Fragment,null,this.state.myUsedDevs.map(e=>React.createElement("div",{className:"result-list-item",key:e.id,onClick:()=>{location.hash=`#/${this.typename}/${e.sn}`},style:{flexDirection:"column",gap:".2rem",cursor:"pointer"}},React.createElement("div",{style:{color:"#868585"}},e.desc))),React.createElement("div",{style:{padding:"1rem 0",cursor:"pointer",textAlign:"center",color:"#03a9f4",borderBottom:"1px solid #4caf50;"},onClick:async()=>{this.setState({myUsedDevs:[]});let e=await a(`/api/customer/get-my-used-devs?typeid=${this.typeid}`);e.devices.length>0?this.setState({myUsedDevs:e.devices}):alert("没有更多记录了")}},"刷新"))))}}export class MyHistory_Charger extends s{typeid=2;typename="charger"}export class MyHistory_CarWasher extends s{typeid=3;typename="carwasher"}export class MyHistory_Locker extends s{typeid=1;typename="locker"}
